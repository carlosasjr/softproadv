$(document).ready(function () {

    function reset() {
        $("#toggleCSS").attr("href", "alertify.default.css");

        alertify.set({
            labels: {
                ok: "Sim",
                cancel: "NÃ£o"
            },
            delay: 5000,
            buttonReverse: true,
            buttonFocus: "ok"
        });
    }

    $('#formRegister').each(function () {
        $(this).validate({
            rules: {

                country_id: {
                    required: true,
                },

                id: {
                  required: true,
                  number : true,
                },

                letter: {
                    required: true,
                    maxlength: 2,
                },


                title: {
                    required: true,
                },


            },

            errorPlacement: function(error, element) {
                error.insertBefore(element);
            },


            highlight: function(element, errorClass, validClass) {
                $(element).addClass(errorClass).removeClass(validClass);
                $(element.form).find("label[for=" + element.id + "]")
                    .addClass(errorClass);
            },

            unhighlight: function(element, errorClass, validClass) {
                $(element).removeClass(errorClass).addClass(validClass);
                $(element.form).find("label[for=" + element.id + "]")
                    .removeClass(errorClass);
            },



            submitHandler: function (form) {
                form.submit();
                $('input[type=submit]').prop('disabled', true);
            }
        })

    });


    $('#country_id').select2({
        theme: "classic"
    });


    //deleta registro mestre
    $('.j_delete').on('click', function (e) {
        e.preventDefault();

        reset();

        alertify.confirm("Deseja excluir o registro selecionado?", function (e) {
            if (e) {
                $('#formDelete').submit();
            }

        })
    })


});
